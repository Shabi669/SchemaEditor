<head>
  <title>meteor-angular</title>
</head>

<body>
  <div ng-app="ngApplication" ng-controller="ngPageController" class="main container-fluid">
    <nav class="navbar navbar-static-top">

    </nav>

    <!--<div class="panel panel-default col-lg-4 side-bar">
        <div class="panel-heading"></div>
        <div class="panel-body">
          
        </div>
      </div>-->

    <div class="panel top-bar form-group col-lg-12">
      <input type="text" class="form-control" />
      <span class="glyphicon glyphicon-search"></span>
    </div>

    <div class="main-content">

      <div class="panel side-bar col-lg-3">
        <!--<entity-list></entity-list>-->
        <div class="list-group">
          <a class="list-group-item" ng-repeat="entity in entities" ng-class="{active:entity.title == selectedEntity.title}" ng-click="selectEntity(entity)">
            <span>{{entity.title}}</span>
            <span class="glyphicon glyphicon-edit" ng-click=itemEdit(entity)></span>
          </a>
          <a class="list-group-item entity" ng-click="itemEdit({title:'New Item', metaType:'entity'})">
            <span>New Item</span>
          </a>
        </div>
      </div>

      <div class="panel col-lg-9">
        <div class="properties-pane">

          <table class="table table-striped">
            <thead>
              <tr>
                <th>Name</th>
                <th>Type</th>
                <th>Mandatory</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="property in selectedEntity.properties">
                <td>{{property.name}}</td>
                <td>{{property.type}}</td>
                <td>{{property.isMandatory}}</td>
                <td></td>
              </tr>
            </tbody>
          </table>
        </div>

      </div>
    </div>

    <div class="tool-bar text-center col-lg-12">
      <span class="btn btn-default" ng-click=addEntity()>Add</span>
    </div>
    <footer>

    </footer>

    <!-- Edit Entity Modal -->
    <div id="editEntityModal" class="modal fade" role="dialog">
      <div class="modal-dialog">
        <div class="modal-content">

          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h4 class="modal-title">Edit Item</h4>
          </div>

          <div class="modal-body form-group">
            <div>
              <label for="">Name</label>
              <input type="text" class="form-control" ng-model="editEntity.title" autofocus/>
            </div>

            <div>
              <label for="">Type</label>
              <select class="form-control" ng-model="editEntity.metaType">
                <option value="entity">Entity</option>
                <option value="link">Entity Link</option>
                <option value="common">Common Type</option>
              </select>
            </div>

          </div>

          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="submitEntity(editEntity)">Submit</button>
          </div>
        </div>

      </div>
    </div>
  </div>

</body>